# 📄 Log Parser Application

This is a simple PHP command-line tool to parse a fixed-width log file and extract meaningful data in a structured format.

---

## 🧩 Features

* Extracts fields from fixed-width text logs
* Formats data as pipe-delimited output
* Cleans whitespace and formats numbers and dates
* Produces sorted summaries of IDs and UserIDs

---

## 🚀 Getting Started

### ✅ Requirements

* PHP 7.0 or higher

### 📁 Files

* `sample-log.txt` : Input file containing fixed-width log entries
* `index.php`      : Main PHP script that processes the file
* `sample-output.txt`     : Output file generated by the script

### ▶️ Run the Script

```bash
php index.php
```

---

## 🧠 Explanation of the Solution

This PHP command-line application reads a fixed-width log file (`sample-log.txt`) and extracts important fields from each line. The extracted data is processed and formatted according to the challenge requirements, then written to an output file (`sample-output.txt`).

### ✅ Objectives Achieved:

1. **Field Extraction** using character positions and lengths:

    * `ID`        → Position 1, Length 12
    * `UserID`    → Position 13, Length 6
    * `BytesTX`   → Position 19, Length 8
    * `BytesRX`   → Position 27, Length 8
    * `DateTime`  → Position 35, Length 17

2. **Whitespace Removal** from all field values using `trim()`.

3. **Number Formatting** of `BytesTX` and `BytesRX` using `number_format()` with commas.

4. **Date Formatting** from fixed string to this format: `Tue, 04 March 2025 00:00:00` using `DateTime::createFromFormat()` and `format()`.

5. **Output Requirements Fulfilled**:

    * Pipe-delimited data lines in this format:

      ```
      <UserID>|<BytesTX>|<BytesRX>|<DateTime>|<ID>
      ```
    * Sorted list of all IDs in ascending alphanumeric order.
    * Sorted list of **unique UserIDs**, indexed as `[1] <UserID>`, `[2] <UserID>`, etc.

### 🧠 Functions Used

| Function                       | Purpose                                                      |
| ------------------------------ | ------------------------------------------------------------ |
| `file()`                       | Reads the log file line by line into an array                |
| `substr()`                     | Extracts substrings based on fixed-width character positions |
| `trim()`                       | Removes extra whitespace from the fields                     |
| `number_format()`              | Formats numbers with thousand separators                     |
| `DateTime::createFromFormat()` | Parses the original datetime string into a DateTime object   |
| `format()`                     | Outputs the `DateTime` object into a new formatted string    |
| `array_unique()`               | Filters out duplicate UserIDs                                |
| `file_put_contents()`          | Writes the final result to `sample-output.txt`                      |

---

## 📄 Sample Output Format

```
UserID|BytesTX|BytesRX|DateTime|ID
ahmed|2,204|1,400|Tue, 04 March 2025 00:00:00|EG-202503040001
...

Sorted IDs:
EG-202503040001
EG-202503040002
...

Unique UserIDs:
[1] ahmed
[2] osama
[3] rami
```

---

## 👨‍💻 Author

**Osama Shaheen**
For questions or feedback, feel free to reach out!
